---
lab:
  title: تنفيذ أمان محتوى الذكاء الاصطناعي في Azure
---

# تنفيذ أمان محتوى الذكاء الاصطناعي في Azure

في هذا التدريب، ستقوم بتكوين إعدادات تشغيل خدمة مورد أمان المحتوى، واختبار المورد في استوديو الذكاء الاصطناعي في Azure، واختبار المورد في التعليمة البرمجية.

## تكوين إعدادات تشغيل خدمة مورد *أمان المحتوى*

إذا لم يكن لديك موردًا بالفعل، يمكنك تكوين إعدادات تشغيل خدمة مورد **أمان المحتوى** في اشتراك Azure الخاص بك.

1. افتح مدخل Azure على `https://portal.azure.com`، وسجل الدخول باستخدام حساب Microsoft المقترن باشتراك Azure.
1. حدد **Create a resource.**
1. في حقل البحث، ابحث عن **أمان المحتوى**. ثم، في النتائج، حدد **إنشاء** ضمن **أمان المحتوى في الذكاء الاصطناعي في Azure**.
1. توفير المورد باستخدام الإعدادات التالية:
    - **الاشتراك**: *اشتراك Azure الخاص بك*.
    - **مجموعة الموارد**: *اختيار مجموعة موارد أو إنشاءها*.
    - **المنطقة**: حدد **شرق الولايات المتحدة**
    - **الاسم**: *أدخل اسمًا مميزًا*.
    - **مستوى الأسعار**: حدد **F0** (*مجاني*)، أو **S** (*قياسي*) إذا لم يكن F0 متوفرًا.
1. حدد **مراجعة + إنشاء**، ثم حدد **إنشاء** لتوفير المورد.
1. انتظر حتى يكتمل التوزيع، ثم انتقل إلى المورد.
1. حدد ** التحكم بالوصول** في شريط التنقل الأيسر، ثم حدد **+ إضافة** و**أضف تعيين الدور**.
1. مرر لأسفل لاختيار دور **مستخدم الخدمات المعرفية** وحدد **التالي**.
1. أضف حسابك إلى هذا الدور، ثم حدد **مراجعة + تعيين**.
1. حدد **إدارة الموارد** في شريط التنقل الأيسر وحدد **المفاتيح ونقطة النهاية**. اترك هذه الصفحة مفتوحة حتى تتمكن من نسخ المفاتيح لاحقًا.

## استخدم درع المطالبة من أمان المحتوى في الذكاء الاصطناعي في Azure

في هذا التدريب، ستستخدم استوديو الذكاء الاصطناعي في Azure لاختبار "درع المطالبة من أمان المحتوى" مع إدخالين عينتين. أحدهما يحاكي مطالبة المستخدم، والآخر يحاكي مستندًا يحتوي على نص يحتمل أن يكون غير آمن مضمن فيه.

1. في علامة تبويب متصفح آخر، افتح صفحة أمان المحتوى في [استوديو الذكاء الاصطناعي في Azure](https://ai.azure.com/explore/contentsafety) وقم بتسجيل الدخول.
1. ضمن **محتوى نص معتدل**، حدد **جربه**.
1. في صفحة **محتوى نص معتدل**، ضمن **خدمات الذكاء الاصطناعي في Azure**، حدد مورد أمان المحتوى الذي أنشأته سابقًا.
1. حدد **فئات مخاطر متعددة في جملة واحدة**. راجع نص المستند للاطلاع على المشكلات المحتملة.
1. حدد **تشغيل الاختبار** وقم مراجعة النتائج.
1. اختياريًا، قم بتغيير مستويات الحد وحدد **تشغيل الاختبار** مرة أخرى.
1. في شريط التنقل الأيسر، حدد **الكشف عن المواد المحمية للنص**.
1. حدد **كلمات محمية** ولاحظ أن هذه هي كلمات أغنية مشهورة.
1. حدد **تشغيل الاختبار** وقم مراجعة النتائج.
1. في شريط التنقل الأيسر، حدد **محتوى صورة** معتدل.
1. حدد **محتوى يدعو لإيذاء النفس**.
1. لاحظ أن جميع الصور غير واضحة بشكل افتراضي في استوديو الذكاء الاصطناعي. يجب أن تدرك أيضًا أن المحتوى الجنسي في العينات خفيف جدًا.
1. حدد **تشغيل الاختبار** وقم مراجعة النتائج.
1. في شريط التنقل الأيسر، حدد **دروع المطالبة**.
1. في **صفحة دروع المطالبة**، ضمن **خدمات الذكاء الاصطناعي في Azure** حدد مورد أمان المحتوى الذي أنشأته سابقًا.
1. حدد **المطالبة ومحتوى هجوم المستند**. راجع مطالبة المستخدم ونص المستند للبحث عن المشكلات المحتملة.
1. حدد **تشغيل الاختبار**.
1. في **عرض النتائج**، تحقق من اكتشاف هجمات الهروب من السجن في كل من مطالبة المستخدم والمستند.

    > [!TIP]
    > تتوفر التعليمة البرمجية لجميع العينات في استوديو الذكاء الاصطناعي.

1. ضمن **الخطوات التالية**، ضمن **عرض التعليمة البرمجية** حدد **عرض التعليمة البرمجية**. يتم عرض نافذة **التعليمة البرمجية للعينة**.
1. استخدم السهم لأسفل لتحديد إما Python أو C# ثم حدد **نسخ** لنسخ التعليمات البرمجية للعينة إلى الحافظة.
1. أغلق شاشة **التعليمة البرمجية للعينة**.

### تكوين تطبيقك

ستقوم الآن بإنشاء تطبيق إما في C# أو Python.

#### C#

##### المتطلبات الأساسية

* [Visual Studio Code](https://code.visualstudio.com/) في واحدة من [النظم الأساسية المدعومة](https://code.visualstudio.com/docs/supporting/requirements#_platforms).
* [.NET 8](https://dotnet.microsoft.com/en-us/download/dotnet/8.0) هو إطار العمل الهدف لهذا التدريب.
* [ملحق #C](https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csharp) لمحرر Visual Studio Code.

##### الإعداد

قم بتنفيذ الخطوات التالية لإعداد التعليمة البرمجية لـ Visual Studio للتدريب.

1. ابدأ تشغيل التعليمة البرمجية لـ Visual Studio وفي عرض المستعرض، انقر فوق **إنشاء مشروع .NET** وقم بتحديد **تطبيق وحدة تحكم**.
1. حدد مجلد على الكمبيوتر الخاص بك، وامنح المشروع اسمًا. حدد **إنشاء مشروع** ووافق على رسالة التحذير.
1. في جزء المستعرض، قم بتوسيع مستعرض الحلول وحدد **Program.cs**.
1. قم بإنشاء المشروع وتشغيله عن طريق تحديد **تشغيل** -> **تشغيل بدون تصحيح الأخطاء.** 
1. في مستكشف الحلول، انقر بزر الماوس الأيمن فوق مشروع C# وحدد **أضف حزمة NuGet.**
1. ابحث عن **Azure.AI.TextAnalytics** وحدد أحدث إصدار.
1. ابحث عن حزمة NuGet ثانية: **Microsoft.Extensions.Configuration.Json 8.0.0**. يجب أن يسرد ملف المشروع الآن حزمتي NuGet.

##### إضافة تعليمة برمجية

1. الصق التعليمات البرمجية للعينة التي نسختها سابقًا ضمن قسم **ItemGroup**.
1. مرر لأسفل للعثور على *استبدال بمفتاح الاشتراك ونقطة النهاية الخاصين بك*.
1. في بوابة Azure، في صفحة المفاتيح ونقطة النهاية، انسخ أحد المفاتيح (1 أو 2). استبدل **<your_subscription_key>** بهذه القيمة.
1. في بوابة Azure، في صفحة المفاتيح ونقاط النهاية، انسخ نقطة النهاية. الصق هذه القيمة في التعليمة البرمجية الخاصة بك لاستبدال **<your_endpoint_value>**.
1. في **استوديو الذكاء الاصطناعي في Azure**، انسخ قيمة **مطالبة المستخدم**. الصق هذا في التعليمة البرمجية لاستبدال **<test_user_prompt>**.
1. مرر لأسفل إلى **<this_is_a_document_source>** واحذف سطر التعليمات البرمجية هذا.
1. في **استوديو الذكاء الاصطناعي في Azure**، انسخ قيمة **المستند** .
1. قم بالتمرير لأسفل إلى **<this_is_another_document_source>** والصق قيمة المستند الخاص بك.
1. حدد **تشغيل** -> **تشغيل بدون تصحيح الأخطاء** وتحقق من اكتشاف هجوم. 

#### Python

##### المتطلبات الأساسية

* [Visual Studio Code](https://code.visualstudio.com/) في واحدة من [النظم الأساسية المدعومة](https://code.visualstudio.com/docs/supporting/requirements#_platforms).

* [ملحق Python](https://marketplace.visualstudio.com/items?itemName=ms-python.python) مُثبت للتعليمات البرمجية لـ Visual Studio.

* [محدة الطلبات](https://pypi.org/project/requests/) مُثبتة.

1. أنشئ ملف Python جديد بامتداد **.py** وأعطه اسمًا مناسبًا.
1. الصق التعليمة البرمجية للعينة التي نسختها سابقًا.
1. مرر لأسفل للعثور على القسم المسمى *الاستبدال بمفاتيح ونقاط نهاية الاشتراك* الخاص بك.
1. في بوابة Azure، في صفحة المفاتيح ونقطة النهاية، انسخ أحد المفاتيح (1 أو 2). استبدل **<your_subscription_key>** بهذه القيمة.
1. في بوابة Azure، في صفحة المفاتيح ونقاط النهاية، انسخ نقطة النهاية. الصق هذه القيمة في التعليمة البرمجية الخاصة بك لاستبدال **<your_endpoint_value>**.
1. في **استوديو الذكاء الاصطناعي في Azure**، انسخ قيمة **مطالبة المستخدم**. الصق هذا في التعليمة البرمجية لاستبدال **<test_user_prompt>**.
1. مرر لأسفل إلى **<this_is_a_document_source>** واحذف سطر التعليمات البرمجية هذا.
1. في **استوديو الذكاء الاصطناعي في Azure**، انسخ قيمة **المستند** .
1. قم بالتمرير لأسفل إلى **<this_is_another_document_source>** والصق قيمة المستند الخاص بك.
1. من الوحدة الطرفية المدمجة لملفك، قم بتشغيل البرنامج، على سبيل المثال:

    - `.\prompt-shield.py`

1. التحقق من صحة اكتشاف هجوم.
1. اختياريًا، يمكنك تجربة محتوى اختبار وقيم مستندات مختلفة.
