---
lab:
  title: بدء استخدام خدمات الذكاء الاصطناعي في Azure
  module: Module 2 - Developing AI Apps with Azure AI Services
---

# بدء استخدام خدمات الذكاء الاصطناعي في Azure

في هذا التمرين، ستبدأ في استخدام خدمات الذكاء الاصطناعي في Azure عن طريق إنشاء مورد خدمات **الذكاء الاصطناعي في Azure** في اشتراك Azure الخاص بك واستخدامه من تطبيق عميل. الهدف من التمرين ليس اكتساب الخبرة في أي خدمة معينة، بل التعرّف على النمط العام لتوفير خدمات الذكاء الاصطناعي في Azure والعمل معها كمطور.

## نسخ المستودع في Visual Studio Code

ستقوم بتطوير تطبيقك باستخدام التعليمة البرمجية في Visual Studio. تم توفير ملفات التعليمات البرمجية لتطبيقك في GitHub repo.

> **تلميح**: إذا نسخت بالفعل مستودع **mslearn-ai-services**، فافتحه في تعليمة Visual Studio البرمجية. وإلا فاتبع هذه الخطوات لاستنساخه إلى بيئة تطويرك.

1. ابدأ تشغيل Visual Studio Code.
2. افتح لوحة (SHIFT+CTRL+P) وشغّل **Git: استنسخ الأمر ** لاستنساخ مستودع `https://github.com/MicrosoftLearning/mslearn-ai-services` إلى مجلد محلي (لا يُهم أي مجلد).
3. عند استنساخ المستودع، افتح المجلد في تعليمة Visual Studio البرمجية.
4. انتظر حتى تثبيت ملفات إضافية لدعم مشاريع التعليمات البرمجية C# في المستودع عند الضرورة

    > **ملاحظة**: إذا جرت مطالبتك بإضافة الأصول المطلوبة للبناء وتصحيح الأخطاء، فحدد **ليس الآن**.

5. وسّع المجلد `Labfiles/01-use-azure-ai-services`.

أنجز توفير التعليمات البرمجية لكل من C# وPython. وسّع مجلد اللغة المفضلة لديك.

## توفير مورد خدمات الذكاء الاصطناعي في Azure

خدمات الذكاء الاصطناعي في Azure هي خدمات مستندة إلى السحابة تتضمن إمكانات الذكاء الاصطناعي التي يمكنك دمجها في تطبيقاتك. يمكنك توفير موارد خدمات الذكاء الاصطناعي في Azure الفردية لواجهات برمجة تطبيقات محددة (على سبيل المثال، **اللغة** أو **الرؤية**)، أو يمكنك توفير مورد **خدمات الذكاء الاصطناعي في Azure** واحد يوفر الوصول إلى واجهات برمجة تطبيقات خدمات الذكاء الاصطناعي في Azure المتعددة من خلال نقطة نهاية ومفتاح واحد. في هذه الحالة، ستستخدم مورداً واحداً **لخدمات الذكاء الاصطناعي في Azure**.

1. افتح مدخل Azure على `https://portal.azure.com`، وسجل الدخول باستخدام حساب Microsoft المقترن باشتراك Azure.
2. في شريط البحث العلوي، ابحث عن *خدمات الذكاء الاصطناعي في Azure*، وحدد **خدمات الذكاء الاصطناعي في Azure**، وأنشئ موردًا بالإعدادات التالية:
    - **Subscription**: *اشتراكك في Azure*
    - **مجموعة الموارد**: *اختر أو أنشئ مجموعة موارد (إذا كنت تستخدم اشتراكًا مقيدًا، فقد لا يكون لديك إذن لإنشاء مجموعة موارد جديدة - استخدم المجموعة المتوفرة)*
    - **المنطقة**: *اختر أي منطقة متوفرة*
    - **الاسم**: *أدخل اسماً فريداً*
    - **مستوى التسعير**: قياسي S0
3. حدد مربعات الاختيار المطلوبة ثم أنشئ المورد.
4. انتظر حتى يكتمل النشر، ثم اعرض تفاصيل النشر.
5. انتقل إلى المورد واعرض صفحة **المفاتيح ونقطة النهاية** الخاصة به. تحتوي هذه الصفحة على المعلومات التي ستحتاجها للاتصال بموردك واستخدامه من التطبيقات التي تطورها. على وجه التحديد:
    - *نقطة نهاية* HTTP التي بمقدور تطبيقات العميل إرسال الطلبات إليها.
    - *مفتاحان* يمكن استخدامهما للمصادقة (يمكن لتطبيقات العميل استخدام أي مفتاح للمصادقة).
    - *الموقع* الذي ينجز فيه استضافة المورد. وهذا مطلوب للطلبات الموجهة إلى بعض واجهات برمجة التطبيقات (وليس كلها).

## استخدام واجهة REST

تعتمد واجهات برمجة تطبيقات خدمات الذكاء الاصطناعي في Azure على REST، لذا يمكنك استهلاكها عن طريق إرسال طلبات JSON عبر HTTP. في هذا المثال، ستستكشف تطبيق وحدة تحكم يستخدم REST API **اللغة** لإجراء اكتشاف اللغة؛ ولكن المبدأ الأساسي هو نفسه بالنسبة لجميع واجهات برمجة التطبيقات التي يدعمها مورد خدمات الذكاء الاصطناعي في Azure.

> **ملاحظة**: في هذا التمرين، يمكنك اختيار استخدام REST API من **C#** أو **Python**. في الخطوات الواردة أدناه، نفذ الإجراءات المناسبة للغتك المفضلة.

1. في تعليمة Visual Studio البرمجية، يمكن توسيع مجلد **C-Sharp** أو **Python** حسب تفضيلات اللغة لديك.
2. اعرض محتويات مجلد **rest-client**، ولاحظ أنه يحتوي على ملف لإعدادات التكوين:

    - **C#**: appsettings.json
    - **Python**: .env

    يمكنك فتح ملف التكوين وتحديث قيم التكوين التي يحتوي عليها لتعكس **نقطة النهاية** و**مفتاح** المصادقة لمورد خدمات الذكاء الاصطناعي في Azure. احفظ تغييراتك.

3. لاحظ أن مجلد **rest-client** يحتوي على ملف تعليمات برمجية لتطبيق العميل:

    - **C#**: Program.cs
    - **Python**: rest-client.py

    افتح ملف التعليمات البرمجية وراجع التعليمات البرمجية التي يحتوي عليها، مع ملاحظة التفاصيل التالية:
    - يجري استيراد مساحات أسماء مختلفة لتمكين اتصال HTTP
    - تسترد التعليمات البرمجية الموجودة في الوظيفة **الرئيسية** نقطة النهاية والمفتاح لمورد خدمات الذكاء الاصطناعي في Azure الخاص بك - وسيجري استخدامهما لإرسال طلبات REST إلى خدمة تحليلات النص.
    - يقبل البرنامج إدخال المستخدم، ويستخدم وظيفة **GetLanguage** لاستدعاء REST API للكشف عن لغة تحليلات النص لنقطة نهاية خدمات الذكاء الاصطناعي في Azure الخاصة بك لاكتشاف لغة النص الذي جرى إدخاله.
    - يتكون الطلب المرسل إلى واجهة برمجة التطبيقات (API) من كائن JSON يحتوي على بيانات الإدخال - في هذه الحالة، مجموعة من كائنات **المستند** كل منها يحتوي على **معرّف** **ونص**.
    - مفتاح الخدمة الخاصة بك مضمن في رأس الطلب لمصادقة تطبيق العميل الخاص بك.
    - الاستجابة من الخدمة هي كائن JSON، والذي يمكن لتطبيق العميل تحليله.

4. انقر بزر الماوس الأيمن على مجلد **rest-client** وحدد *فتح في الوحدة الطرفية المتكاملة* وشغل الأمر التالي:

    **C#**

    ```
    dotnet run
    ```

    **Python**

    ```
    pip install python-dotenv
    python rest-client.py
    ```

5. عند المطالبة، أدخل بعض النص وراجع اللغة التي اكتشفتها الخدمة، والتي يجري إرجاعها في استجابة JSON. على سبيل المثال، حاول إدخال "Hello" و"Bonjour" و"Gracias".
6. عند إنهاء اختبار التطبيق، أدخل "إنهاء" لإيقاف البرنامج.

## استخدام SDK

يمكنك كتابة تعليمات برمجية تستهلك واجهات برمجة تطبيقات REST لخدمات الذكاء الاصطناعي في Azure مباشرةً، ولكن توجد مجموعات تطوير برامج (SDKs) للعديد من لغات البرمجة الشائعة، بما في ذلك Microsoft C# وPython وJava وNode.js. يمكن أن يؤدي استخدام SDK إلى تبسيط عملية تطوير التطبيقات التي تستهلك خدمات الذكاء الاصطناعي في Azure بشكل كبير.

1. في تعليمة Visual Studio البرمجية، وسع مجلد **sdk-client** ضمن مجلد **C-Sharp** أو **Python**، وفقاً لتفضيلات اللغة لديك. ثم يمكنك تشغيل `cd ../sdk-client` للتغيير إلى مجلد **sdk-client** ذي الصلة.

2. يمكن تثبيت حزمة Text Analytics SDK عن طريق تشغيل الأمر المناسب لتفضيلات اللغة الخاصة بك:

    **C#**

    ```
    dotnet add package Azure.AI.TextAnalytics --version 5.3.0
    ```

    **Python**

    ```
    pip install azure-ai-textanalytics==5.3.0
    ```

3. اعرض محتويات مجلد **sdk-client**، ولاحظ أنه يحتوي على ملف لإعدادات التكوين:

    - **C#**: appsettings.json
    - **Python**: .env

    يمكنك فتح ملف التكوين وتحديث قيم التكوين التي يحتوي عليها لتعكس **نقطة النهاية** و**مفتاح** المصادقة لمورد خدمات الذكاء الاصطناعي في Azure. احفظ تغييراتك.
    
4. لاحظ أن مجلد **sdk-client** يحتوي على ملف تعليمات برمجية لتطبيق العميل:

    - **C#**: Program.cs
    - **Python**: sdk-client.py

    افتح ملف التعليمات البرمجية وراجع التعليمات البرمجية التي يحتوي عليها، مع ملاحظة التفاصيل التالية:
    - يجري استيراد مساحة الاسم SDK المثبتة من جانبك
    - تسترد التعليمات البرمجية الموجودة في الوظيفة **الرئيسية** نقطة النهاية والمفتاح لمورد خدمات الذكاء الاصطناعي في Azure - وسيجري استخدامها مع SDK لإنشاء عميل لخدمة تحليلات النص.
    - تستخدم وظيفة **GetLanguage SDK** لإنشاء عميل للخدمة، ثم تستخدم العميل لاكتشاف لغة النص الذي جرى إدخاله.

5. ارجع إلى المحطة الطرفية، وتأكد من أنك في مجلد **sdk-client** وأدخل الأمر التالي لتشغيل البرنامج:

    **C#**

    ```
    dotnet run
    ```

    **Python**

    ```
    python sdk-client.py
    ```

6. عند المطالبة، أدخل بعض النص وراجع اللغة التي اكتشفتها الخدمة. على سبيل المثال، حاول إدخال "Goodbye" و"Au revoir" و"Hasta la vista".
7. عند إنهاء اختبار التطبيق، أدخل "إنهاء" لإيقاف البرنامج.

> **ملاحظة**: قد لا يجري التعرّف على بعض اللغات التي تتطلب مجموعات أحرف Unicode في تطبيق وحدة التحكم البسيط هذا.

## تنظيف الموارد

إذا كنت لا تستخدم موارد Azure التي أنشأتها في هذا المختبر لوحدات التدريب الأخرى، فيمكنك حذفها لتجنب تكبد المزيد من الرسوم.

1. افتح مدخل Azure في `https://portal.azure.com`، وفي شريط البحث العلوي، ابحث عن الموارد التي أنشأتها في هذا المختبر.

2. في صفحة المورد، حدد **حذف** واتبع الإرشادات لحذف المورد. بدلاً من ذلك، يمكنك حذف مجموعة الموارد بأكملها لتنظيف جميع الموارد في الوقت نفسه.

## مزيد من المعلومات

لمزيد من المعلومات عن خدمات الذكاء الاصطناعي في Azure، راجع [وثائق خدمات الذكاء الاصطناعي في Azure](https://docs.microsoft.com/azure/ai-services/what-are-ai-services).
